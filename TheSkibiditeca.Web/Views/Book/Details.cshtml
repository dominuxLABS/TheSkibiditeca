<div class="container mt-5 pb-5">
    <div class="book-detail-card">
        <div class="row g-4">
            <div class="col-md-4">
                <div class="book-image-container">
                    <img src="@ViewBag.URL" class="book-image" alt="Portada del libro @ViewBag.Title" />
                </div>
                
                <div class="d-grid gap-2 mt-4">
                    @if(ViewBag.Count == 0)
                    {
                        <button class="btn btn-primary" disabled>
                            <i class="fas fa-book me-2"></i>Pedir préstamo
                        </button>
                        <button class="btn btn-secondary" disabled>
                            <i class="fas fa-cart-plus me-2"></i>Agregar a carrito
                        </button>
                    }
                    else
                    {
                        <a href="@Url.Action("AddCart", "Book", new { bookId = ViewBag.ID, once=true })" class="btn btn-primary">
                            <i class="fas fa-book me-2"></i>Pedir préstamo
                        </a>
                        <a href="@Url.Action("AddCart", "Book", new { bookId = ViewBag.ID, once=false })" class="btn btn-secondary">
                            <i class="fas fa-cart-plus me-2"></i>Agregar a carrito
                        </a>
                    }
                </div>
                
                <div class="availability-badge mt-3">
                    <span class="badge @(ViewBag.Count > 0 ? "bg-success" : "bg-danger")">
                        @ViewBag.Count disponibles
                    </span>
                </div>
            </div>

            <div class="col-md-8">
                <div class="book-details">
                    <h1 class="book-title">@ViewBag.Title</h1>
                    
                    <div class="detail-section">
                        <div class="detail-item">
                            <div class="detail-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-text" viewBox="0 0 16 16">
                                    <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z" />
                                    <path d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8m0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5" />
                                </svg>
                            </div>
                            <div class="detail-content">
                                <h5>Descripción</h5>
                                <p>@ViewBag.Description</p>
                            </div>
                        </div>
                        
                        <div class="detail-item">
                            <div class="detail-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">
                                    <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z" />
                                </svg>
                            </div>
                            <div class="detail-content">
                                <h5>Año de publicación</h5>
                                <p>@ViewBag.Year</p>
                            </div>
                        </div>
                        
                        <div class="detail-item">
                            <div class="detail-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
                                    <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5" />
                                </svg>
                            </div>
                            <div class="detail-content">
                                <h5>Autores</h5>
                                <p>@ViewBag.Authors</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Controles de administrador -->
        @if(ViewBag.RoleID >= 2)
        {
            <div class="admin-section mt-4">
                <hr class="section-divider" />
                <h5><i class="fas fa-cog me-2"></i>Controles de Administrador</h5>
                <div class="d-flex gap-2 mt-3">
                    <button class="btn btn-outline-danger">
                        <i class="fas fa-trash me-2"></i>Eliminar Libro
                    </button>
                    <button class="btn btn-outline-primary">
                        <i class="fas fa-edit me-2"></i>Editar Información
                    </button>
                </div>
            </div>
        }
    </div>
</div>

